{
  "permissions": {
    "allow": [
      "Bash(npm run build:*)",
      "Bash(findstr:*)",
      "Bash(python3:*)",
      "Bash(node -e:*)",
      "Bash(/tmp/search_spectrogram2.js << 'SCRIPT'\nconst fs = require\\('fs'\\);\nconst content = fs.readFileSync\\('C:/Users/chril/.gemini/antigravity/playground/primordial-telescope/node_modules/wavesurfer.js/dist/plugins/spectrogram.esm.js', 'utf-8'\\);\n\nfunction findAll\\(pattern, label, ctxBefore, ctxAfter\\) {\n    console.log\\('=== ' + label + ' ==='\\);\n    let regex = new RegExp\\(pattern, 'g'\\);\n    let match;\n    let count = 0;\n    while \\(\\(match = regex.exec\\(content\\)\\) !== null\\) {\n        count++;\n        const start = Math.max\\(0, match.index - \\(ctxBefore || 100\\)\\);\n        const end = Math.min\\(content.length, match.index + \\(ctxAfter || 300\\)\\);\n        console.log\\('Occurrence #' + count + ' at position ' + match.index + ':'\\);\n        console.log\\('  ...' + content.substring\\(start, end\\) + '...'\\);\n        console.log\\(''\\);\n    }\n    if \\(count === 0\\) console.log\\('  \\(no matches found\\)'\\);\n    console.log\\(''\\);\n}\n\nfindAll\\('createWrapper', 'createWrapper', 50, 800\\);\nfindAll\\('this\\\\\\\\.wrapper\\\\\\\\b', 'this.wrapper \\(all\\)', 80, 150\\);\nfindAll\\('this\\\\\\\\.height', 'this.height', 80, 150\\);\nSCRIPT)",
      "Bash(node:*)",
      "Bash(/tmp/search_spectrogram3.js << 'SCRIPT'\nconst fs = require\\('fs'\\);\nconst content = fs.readFileSync\\('C:/Users/chril/.gemini/antigravity/playground/primordial-telescope/node_modules/wavesurfer.js/dist/plugins/spectrogram.esm.js', 'utf-8'\\);\n\n// Get broader onInit context \\(the full spectrogram class onInit\\)\nlet idx = content.indexOf\\('onInit\\(\\){this.wrapper||this.createWrapper'\\);\nif \\(idx >= 0\\) {\n    console.log\\('=== Full spectrogram onInit method ==='\\);\n    console.log\\(content.substring\\(idx, idx + 600\\)\\);\n    console.log\\(''\\);\n}\n\n// Get the drawSpectrogram section with wrapper.style.height\nidx = content.indexOf\\('drawSpectrogram'\\);\nif \\(idx >= 0\\) {\n    console.log\\('=== drawSpectrogram method start ==='\\);\n    console.log\\(content.substring\\(idx, idx + 800\\)\\);\n    console.log\\(''\\);\n}\n\n// Find ALL places 'wrapper' appears \\(broader search\\)\nconsole.log\\('=== All wrapper references \\(count\\) ==='\\);\nlet regex = /wrapper/g;\nlet m;\nlet count = 0;\nwhile \\(\\(m = regex.exec\\(content\\)\\) !== null\\) {\n    count++;\n}\nconsole.log\\('Total occurrences of \"wrapper\":', count\\);\nconsole.log\\(''\\);\n\n// Get the getWidth and getWrapperWidth methods\nconsole.log\\('=== getWidth / getWrapperWidth ==='\\);\nregex = /getW\\(?:rapper\\)?Width/g;\nwhile \\(\\(m = regex.exec\\(content\\)\\) !== null\\) {\n    const start = Math.max\\(0, m.index - 50\\);\n    const end = Math.min\\(content.length, m.index + 200\\);\n    console.log\\('Position ' + m.index + ': ...' + content.substring\\(start, end\\) + '...'\\);\n    console.log\\(''\\);\n}\n\n// Get the constructor/defaults\nidx = content.indexOf\\('class C'\\);\nif \\(idx >= 0\\) {\n    console.log\\('=== Class definition start ==='\\);\n    console.log\\(content.substring\\(idx, idx + 400\\)\\);\n    console.log\\(''\\);\n}\nSCRIPT)",
      "Bash(/tmp/search_spectrogram4.js << 'SCRIPT'\nconst fs = require\\('fs'\\);\nconst content = fs.readFileSync\\('C:/Users/chril/.gemini/antigravity/playground/primordial-telescope/node_modules/wavesurfer.js/dist/plugins/spectrogram.esm.js', 'utf-8'\\);\n\n// Get the actual drawSpectrogram\\(e\\) method \\(the one that receives data\\)\nlet idx = content.indexOf\\('drawSpectrogram\\(e\\){'\\);\nif \\(idx >= 0\\) {\n    console.log\\('=== drawSpectrogram\\(e\\) method ==='\\);\n    console.log\\(content.substring\\(idx, idx + 1200\\)\\);\n    console.log\\(''\\);\n}\n\n// Get constructor fully\nidx = content.indexOf\\('class C extends'\\);\nif \\(idx >= 0\\) {\n    console.log\\('=== Full constructor ==='\\);\n    console.log\\(content.substring\\(idx, idx + 1600\\)\\);\n    console.log\\(''\\);\n}\n\n// Get getWidth method\nidx = content.indexOf\\('getWidth\\(\\)'\\);\nif \\(idx >= 0\\) {\n    console.log\\('=== getWidth\\(\\) ==='\\);\n    let start = Math.max\\(0, idx - 20\\);\n    console.log\\(content.substring\\(start, idx + 200\\)\\);\n    console.log\\(''\\);\n}\nSCRIPT)",
      "Bash(/tmp/search_spectrogram5.js << 'SCRIPT'\nconst fs = require\\('fs'\\);\nconst content = fs.readFileSync\\('C:/Users/chril/.gemini/antigravity/playground/primordial-telescope/node_modules/wavesurfer.js/dist/plugins/spectrogram.esm.js', 'utf-8'\\);\n\n// Find the getWidth definition \\(not usage\\)\nlet regex = /getWidth\\\\\\(\\\\\\)\\\\{/g;\nlet m;\nwhile \\(\\(m = regex.exec\\(content\\)\\) !== null\\) {\n    const start = Math.max\\(0, m.index - 20\\);\n    const end = Math.min\\(content.length, m.index + 300\\);\n    console.log\\('=== getWidth\\(\\) definition at position ' + m.index + ' ==='\\);\n    console.log\\(content.substring\\(start, end\\)\\);\n    console.log\\(''\\);\n}\n\n// Find all 12 wrapper references with context\nregex = /wrapper/g;\nlet count = 0;\nwhile \\(\\(m = regex.exec\\(content\\)\\) !== null\\) {\n    count++;\n    const start = Math.max\\(0, m.index - 60\\);\n    const end = Math.min\\(content.length, m.index + 80\\);\n    console.log\\('#' + count + ' pos ' + m.index + ': ...' + content.substring\\(start, end\\) + '...'\\);\n}\nSCRIPT)"
    ]
  }
}
